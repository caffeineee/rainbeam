{% extends "base.xml" %} {% block content %}
{% if let Some(display_name) = other.metadata.kv.get("sparkler:display_name") %}
<title>{{ display_name }}</title>
{% else %}
<title>{{ other.username }}</title>
{% endif %}

<subtitle>{{ other.username }}</subtitle>

<icon>{{ config.host }}/api/v1/profiles/{{ other.username }}/avatar</icon>
<banner>{{ config.host }}/api/v1/profiles/{{ other.username }}/banner</banner>

<link rel="alternate" type="text/html" hreflang="en" href="{{ config.host }}/@{{ other.username }}" />

{% if let Some(biography) = other.metadata.kv.get("sparkler:biography") %}
<description type="html">{{ biography }}</description>
{% else %}
<description type="html">@{{ other.username }}'s feed</description>
{% endif %}

<subfeed name="responses">
{% for res in responses %}
    {% let response = res.1.clone() %}

    {% let question = res.0.clone() %}
    {% include "xml/components/question.xml" %}

    {% let comment_count = res.2 %}
    {% let reaction_count = res.3 %}
    {% include "xml/components/response.xml" %}
{% endfor %}
</subfeed>
{% call super() %} {% endblock %}
